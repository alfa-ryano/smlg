    /**
     * Adds the statechart to the sidebar.
     */
    SMLG.editorUI.sidebar.SMLGAddStatechartPalette = function(expand) {
 
        var fns = [
            this.SMLGCreateEdgeTemplateEntry('blockendFill=1;html=1;endArrow=block;endSize=6;', 120, 120, 
                 '', 'Transition', null, null, 'Transition', JSON.stringify([{ name: 'class', type: 'EAttribute', eType: 'EString', value: 'Transition', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { properties: [ { name: 'name', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'description', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'source', type: 'EReference', eType: 'Node', value: '', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: 'outgoing', style: ''   }, { name: 'target', type: 'EReference', eType: 'Node', value: '', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: 'incoming', style: ''   }, { name: 'gsmLabel', type: 'EAttribute', eType: 'EString', value: 'name', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, ]}, ])),
            this.SMLGCreateEdgeTemplateEntry('dashed=1;blockendFill=1;html=1;endArrow=none;endSize=6;', 120, 120, 
                 '', 'Link', null, null, 'Link', JSON.stringify([{ name: 'class', type: 'EAttribute', eType: 'EString', value: 'Link', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { properties: [ { name: 'name', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'description', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'source', type: 'EReference', eType: 'Node', value: '', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: 'outgoing', style: ''   }, { name: 'target', type: 'EReference', eType: 'Node', value: '', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: 'incoming', style: ''   }, { name: 'gsmLabel', type: 'EAttribute', eType: 'EString', value: 'name', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, ]}, ])),
            this.SMLGCreateVertexTemplateEntry('childLayout=stackLayout;whiteSpace=wrap;shape=swimlane;resizeParent=0;resizeLast=1;collapsible=1;swimlaneFillColor=#FFFFFF;marginLeft=7;marginRight=7;rounded=1;marginBottom=7;html=1;horizontalStack=0;marginTop=7;', 200, 120,  
                 '', 'State', null, null, 'State', JSON.stringify([{ name: 'class', type: 'EAttribute', eType: 'EString', value: 'State', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { properties: [ { name: 'name', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'description', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'outgoing', type: 'EReference', eType: 'Edge', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: -1, eOpposite: 'source', style: ''   }, { name: 'incoming', type: 'EReference', eType: 'Edge', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: -1, eOpposite: 'target', style: ''   }, { name: 'substates', type: 'EReference', eType: 'State', value: '', editable: true, visible: true, compartment: true, lowerBound: 0, upperBound: -1, eOpposite: '', style: 'shape=swimlane;collapsible=0;noLabel=1;strokeColor=none;startSize=0;'   }, { name: 'gsmLabel', type: 'EAttribute', eType: 'EString', value: 'name', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, ]}, ])),
            this.SMLGCreateVertexTemplateEntry('whiteSpace=wrap;shape=note;html=1;', 200, 120,  
                 '', 'Note', null, null, 'Note', JSON.stringify([{ name: 'class', type: 'EAttribute', eType: 'EString', value: 'Note', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { properties: [ { name: 'name', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'description', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'outgoing', type: 'EReference', eType: 'Edge', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: -1, eOpposite: 'source', style: ''   }, { name: 'incoming', type: 'EReference', eType: 'Edge', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: -1, eOpposite: 'target', style: ''   }, { name: 'gsmLabel', type: 'EAttribute', eType: 'EString', value: 'description', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, ]}, ])),
            this.SMLGCreateVertexTemplateEntry('fillColor=#000000;whiteSpace=wrap;shape=startState;html=1;', 30, 30,  
                 '', 'Start', null, null, 'Start', JSON.stringify([{ name: 'class', type: 'EAttribute', eType: 'EString', value: 'Start', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { properties: [ { name: 'name', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'description', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'outgoing', type: 'EReference', eType: 'Edge', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: -1, eOpposite: 'source', style: ''   }, { name: 'incoming', type: 'EReference', eType: 'Edge', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: -1, eOpposite: 'target', style: ''   }, { name: 'gsmLabel', type: 'EAttribute', eType: 'EString', value: 'name', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, ]}, ])),
            this.SMLGCreateVertexTemplateEntry('fillColor=#FFFFFF;whiteSpace=wrap;shape=endState;html=1;', 30, 30,  
                 '', 'End', null, null, 'End', JSON.stringify([{ name: 'class', type: 'EAttribute', eType: 'EString', value: 'End', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { properties: [ { name: 'name', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'description', type: 'EAttribute', eType: 'EString', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: 1, eOpposite: '', style: ''   }, { name: 'outgoing', type: 'EReference', eType: 'Edge', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: -1, eOpposite: 'source', style: ''   }, { name: 'incoming', type: 'EReference', eType: 'Edge', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: -1, eOpposite: 'target', style: ''   }, { name: 'gsmLabel', type: 'EAttribute', eType: 'EString', value: 'name', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, ]}, ])),
        ]
        this.SMLGSetDiagramContext(JSON.stringify([{ name: 'uri', type: 'EAttribute', eType: 'EString', value: 'statechart', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { name: 'prefix', type: 'EAttribute', eType: 'EString', value: 'statechart', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { name: 'package', type: 'EAttribute', eType: 'EString', value: 'statechart', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { name: 'diagram', type: 'EAttribute', eType: 'EString', value: 'Statechart', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { name: 'class', type: 'EAttribute', eType: 'EString', value: 'Statechart', editable: false, visible: true, compartment: false, lowerBound: 0, upperBound:1, eOpposite: '' }, { properties: [ { name: 'entities', type: 'EReference', eType: 'Entity', value: '', editable: true, visible: true, compartment: false, lowerBound: 0, upperBound: -1, eOpposite: ''   }, ]}, ]));
        this.addPaletteFunctions('statechart', 'Statechart', (expand != null) ? expand : true, fns);
    }
    SMLG.editorUI.sidebar.SMLGAddStatechartPalette(true);
    console.log("End of statechart.js");


